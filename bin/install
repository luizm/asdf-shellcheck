#!/usr/bin/env bash

set -eo pipefail

test -n "$ASDF_INSTALL_VERSION" || {
	echo 'Missing ASDF_INSTALL_VERSION'
	exit 1
}

test -n "$ASDF_INSTALL_PATH" || {
	echo 'Missing ASDF_INSTALL_PATH'
	exit 1
}

install() {
	local -r install_path="$1"

	local -r bin_install_path="${install_path}/bin"
	local -r bin_path="${bin_install_path}/shellcheck"

	mkdir -p "${bin_install_path}"

  cp "${ASDF_DOWNLOAD_PATH}/shellcheck" "${bin_install_path}"
	chmod +x "${bin_path}"
}

install "$ASDF_INSTALL_PATH"
